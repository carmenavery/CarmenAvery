<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Assignments</title>

<script src="site_libs/header-attrs-2.7/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-sm-12 col-md-4 col-lg-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-sm-12 col-md-8 col-lg-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Carmen Avery</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Assignments.html">Assignments</a>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Assignments</h1>

</div>


<p>This page will contain all the assignments you submit for the class.</p>
<div id="instructions-for-all-assignments" class="section level3">
<h3>Instructions for all assignments</h3>
<p>I want you to submit your assignment as a PDF, so I can keep a record of what the code looked like that day. I also want you to include your answers on your personal GitHub website. This will be good practice for editing your website and it will help you produce something you can keep after the class is over.</p>
<ol style="list-style-type: decimal">
<li><p>Download the Assignment1.Rmd file from Canvas. You can use this as a template for writing your answers. It’s the same as what you can see on my website in the Assignments tab. Once we’re done with this I’ll edit the text on the website to include the solutions.</p></li>
<li><p>On RStudio, open a new R script in RStudio (File &gt; New File &gt; R Script). This is where you can test out your R code. You’ll write your R commands and draw plots here.</p></li>
<li><p>Once you have finalized your code, copy and paste your results into this template (Assignment 1.Rmd). For example, if you produced a plot as the solution to one of the problems, you can copy and paste the R code in R markdown by using the <code>``{r} ```</code> command. Answer the questions in full sentences and Save.</p></li>
<li><p>Produce a PDF file with your answers. To do this, knit to PDF (use Knit button at the top of RStudio), locate the PDF file in your docs folder (it’s in the same folder as the Rproj), and submit that on on Canvas in Assignment 1.</p></li>
<li><p>Build Website, go to GitHub desktop, commit and push. Now your solutions should be on your website as well.</p></li>
</ol>
</div>
<div id="assignment-1" class="section level1">
<h1>Assignment 1</h1>
<p><strong>Collaborators: Rachael Villari, Elizabeth Stoner, and Halle Wasser</strong></p>
<p>This assignment is due on Canvas on Monday 9/20 before class, at 10:15 am. Include the name of anyone with whom you collaborated at the top of the assignment.</p>
<div id="problem-1" class="section level3">
<h3>Problem 1</h3>
<p>Install the datasets package on the console below using <code>install.packages("datasets")</code>. Now load the library.</p>
<pre class="r"><code>library(knitr)
library(datasets)</code></pre>
<p>Load the USArrests dataset and rename it <code>dat</code>. Note that this dataset comes with R, in the package datasets, so there’s no need to load data from your computer. Why is it useful to rename the dataset?</p>
<pre class="r"><code>dat &lt;- USArrests</code></pre>
<p><strong>Answer: Renaming the dataset provides a short-hand way of calling it as I code instead of trying to remember the name of the dataset.</strong></p>
</div>
<div id="problem-2" class="section level3">
<h3>Problem 2</h3>
<p>Use this command to make the state names into a new variable called State.</p>
<pre class="r"><code>dat$state &lt;- tolower(rownames(USArrests))</code></pre>
<p>This dataset has the state names as row names, so we just want to make them into a new variable. We also make them all lower case, because that will help us draw a map later - the map function requires the states to be lower case.</p>
<p>List the variables contained in the dataset <code>USArrests</code>.</p>
<pre class="r"><code>names(dat)</code></pre>
<pre><code>## [1] &quot;Murder&quot;   &quot;Assault&quot;  &quot;UrbanPop&quot; &quot;Rape&quot;</code></pre>
<p><strong>Answer: The variables are Murder, Assault, UrbanPop, Rape, and state.</strong></p>
</div>
<div id="problem-3" class="section level3">
<h3>Problem 3</h3>
<p>What type of variable (from the DVB chapter) is <code>Murder</code>?</p>
<p><strong>Answer: It is a quantitative/continuous variable.</strong></p>
<p>What R Type of variable is it?</p>
<pre class="r"><code>typeof(&quot;Murder&quot;)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p><strong>Answer: It is a character data type.</strong></p>
</div>
<div id="problem-4" class="section level3">
<h3>Problem 4</h3>
<p>What information is contained in this dataset, in general? What do the numbers mean?</p>
<pre class="r"><code>?USArrests</code></pre>
<p><strong>Answer: This dataset contains 50 observations/instances on 5 variables: Murder (murder arrests per 100,000), Assault (assault arrests per 100,000), UrbanPop (percent urban population), and Rape (rape arrests per 100,000), and state.</strong></p>
</div>
<div id="problem-5" class="section level3">
<h3>Problem 5</h3>
<p>Draw a histogram of <code>Murder</code> with proper labels and title.</p>
<pre class="r"><code>hist(dat$Murder, main=&quot;Histogram of Murder Arrests&quot;, xlab=&quot;Murder Arrests \n 
     per 100,000&quot;, ylab=&quot;Frequency&quot;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="problem-6" class="section level3">
<h3>Problem 6</h3>
<p>Please summarize <code>Murder</code> quantitatively. What are its mean and median? What is the difference between mean and median? What is a quartile, and why do you think R gives you the 1st Qu. and 3rd Qu.?</p>
<pre class="r"><code>summary(dat$Murder)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   0.800   4.075   7.250   7.788  11.250  17.400</code></pre>
<p><strong>Answer: The mean number of murder arrests is 7.7888 per 100,000, and the median is 7.25 murder arrests per 100,000. According to HS, the mean and median are both measures of central tendency. However, the mean is described to be the value that each observation would receive if the values were redistributed among the dataset, and the mean on a histogram is the “balancing point”. The median is the value that is at the center if all the values were put in an ordered list. According to HS, the interquartile range (IQR) is a measure of spread, and the "quartiles…are the three values which divide the distribution into even fourths. The IQR is obtained by subtracting the 1st quartile from the 3rd quartile which is why R gives us both these values.</strong></p>
</div>
<div id="problem-7" class="section level3">
<h3>Problem 7</h3>
<p>Repeat the same steps you followed for <code>Murder</code>, for the variables <code>Assault</code> and <code>Rape</code>. Now plot all three histograms together. You can do this by using the command <code>par(mfrow=c(3,1))</code> and then plotting each of the three.</p>
<pre class="r"><code>summary(dat$Assault)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    45.0   109.0   159.0   170.8   249.0   337.0</code></pre>
<pre class="r"><code>summary(dat$Rape)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    7.30   15.07   20.10   21.23   26.18   46.00</code></pre>
<p><strong>Answer: The mean number of assault arrests is 170.8 per 100,000, and the median is 159 assault arrests per 100,000. The mean number of rape arrests is 21.23 per 100,000, and the median is 20.1 rape arrests per 100,000.</strong></p>
<p>What does the command par do, in your own words (you can look this up by asking R <code>?par</code>)?</p>
<p><strong>Answer: There are a lot of graphical features in R. Par() allows us to search and set them.</strong></p>
<pre class="r"><code>par(mfrow=c(3,1))
hist(dat$Murder, main=&quot;Histogram of Murder Arrests&quot;, xlab=&quot;Murder Arrests \n 
     per 100,000&quot;, ylab=&quot;Frequency&quot;)
hist(dat$Assault, main=&quot;Histogram of Assault Arrests&quot;, xlab=&quot;Assault Arrests \n 
     per 100,000&quot;, ylab=&quot;Frequency&quot;)
hist(dat$Rape, main=&quot;Histogram of Rape Arrests&quot;, xlab=&quot;Rape Arrests \n 
     per 100,000&quot;, ylab=&quot;Frequency&quot;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-10-1.png" width="480" /></p>
<p>What can you learn from plotting the histograms together?</p>
<p><strong>Answer: Murder and rape arrests are right skewed, which is good. What I thought was interesting were how the assault arrests are pretty normally distributed. Additionally, I see the average assault arrests per 100,000 were much greater than the average murder or rape arrests per 100,000 which makes sense.</strong></p>
</div>
<div id="problem-8" class="section level3">
<h3>Problem 8</h3>
<p>In the console below (not in text), type <code>install.packages("maps")</code> and press Enter, and then type <code>install.packages("ggplot2")</code> and press Enter. This will install the packages so you can load the libraries.</p>
<p>Run this code:</p>
<pre class="r"><code>library(&#39;maps&#39;) # load maps library into R session
library(&#39;ggplot2&#39;) # load ggplot2 into R session

ggplot(dat, aes(map_id=state, fill=Murder)) + # call ggplot function, use dat 
                                              # dataframe, and set up plot aesthetics
  geom_map(map=map_data(&quot;state&quot;)) + # create map of all states
  expand_limits(x=map_data(&quot;state&quot;)$long, y=map_data(&quot;state&quot;)$lat) # expand plot limits</code></pre>
<p>What does this code do? Explain what each line is doing.</p>
<p><strong>Answer: This code is creating a heat map of the murder arrests per 100,000 in each state. See comments for a description of each line of code.</strong></p>
<p><span class="math display">\[\\[2in]\]</span></p>
</div>
</div>
<div id="assignment-2" class="section level1">
<h1>Assignment 2</h1>
<div id="problem-1-1" class="section level3">
<h3>Problem 1</h3>
<pre class="r"><code>#load library
library(tidyverse)
library(ggplot2)
# Read the data
dat &lt;- read.csv(file = &#39;dat.nsduh.small.1.csv&#39;)</code></pre>
<p>What are the dimensions of the dataset?</p>
<pre class="r"><code>nrow(dat)</code></pre>
<pre><code>## [1] 171</code></pre>
<pre class="r"><code>ncol(dat)</code></pre>
<pre><code>## [1] 7</code></pre>
<pre class="r"><code>names(dat)</code></pre>
<pre><code>## [1] &quot;mjage&quot;     &quot;cigage&quot;    &quot;iralcage&quot;  &quot;age2&quot;      &quot;sexatract&quot; &quot;speakengl&quot;
## [7] &quot;irsex&quot;</code></pre>
<p><strong>Answer: This dataset contains 171 rows/observations and 7 columns.</strong></p>
</div>
<div id="problem-2-1" class="section level3">
<h3>Problem 2</h3>
<p>What is this dataset about? Who collected the data, what kind of sample is it, and what was the purpose of generating the data?</p>
<p><strong>Answer: This dataset is a sample of the 2019 National Survey of Drug Use and Health (NSDUH). According to their website (<a href="https://nsduhweb.rti.org/respweb/about_nsduh.html" class="uri">https://nsduhweb.rti.org/respweb/about_nsduh.html</a>), NSDUH is sponsored by the Substance Abuse and Mental Health Services Administration (SAMHSA) and the US Dept. of Health and Human Services, and it serves as a sample to inform policymakers of tobacco, alcohol, and drug use in the US population as well as other health related concerns. Their website also states that they survey approximately 70,000 people each year ages 12 and up. The variables of the provided dataset are as follows: ‘mjage’, ‘cigage’, ‘iralcage’, ‘age2’, ‘sexatract’, ‘speakengl’, and ‘irsex’. ‘Mjage’, ‘cigage’, and ‘iralcage’ refer to the age at which participants first started using marijuana or hashish, cigarrettes, and alcohol, respectively. The ‘age2’ variable is the age of the respondent at the end of the questionnaire. ‘Sexatract’, ‘speakengl’, and ‘irsex’ are the respondent’s sexual attraction/orientation, English speaking level, and gender.</strong></p>
</div>
<div id="problem-3-age-and-gender" class="section level3">
<h3>Problem 3: Age and gender</h3>
<p>What is the age distribution of the sample like?</p>
<pre class="r"><code>hist(dat$age2, xlab = &#39;Age Category&#39;, main = &#39;Histogram of Age&#39;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre class="r"><code>summary(dat$age2)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    4.00   13.00   15.00   13.98   15.00   17.00</code></pre>
<pre class="r"><code>dat %&gt;% group_by(age2) %&gt;% count()</code></pre>
<pre><code>## # A tibble: 13 x 2
## # Groups:   age2 [13]
##     age2     n
##    &lt;int&gt; &lt;int&gt;
##  1     4     2
##  2     6     1
##  3     7     1
##  4     8     2
##  5     9     7
##  6    10     3
##  7    11     6
##  8    12     7
##  9    13    27
## 10    14    16
## 11    15    62
## 12    16    24
## 13    17    13</code></pre>
<p><strong>Answer: It appears to be left skewed, and it looks like there’s a peak at 15 which the codebook describes as being 35-49 years old. This means that the majority of the people within this dataset are not teenagers</strong></p>
<p>Do you think this age distribution representative of the US population? Why or why not?</p>
<p><strong>Answer: No, because this is a very small sample size (171 people), and it wouldn’t be representative of the millions of people that live in the US. Additionally, the NSDUH only surveys people aged 12 and older meaning children under 12 would be excluded from the age distribution. Also there are not many teens or people in their early twenties represented by this dataset.</strong></p>
<p>Is the sample balanced in terms of gender? If not, are there more females or males?</p>
<pre class="r"><code>hist(dat$irsex, xlab = &#39;Gender (1 = Male, 2 = Female)&#39;, main = &#39;Distribution of Gender&#39;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<pre class="r"><code>dat %&gt;% count(irsex)</code></pre>
<pre><code>##   irsex  n
## 1     1 91
## 2     2 80</code></pre>
<p><strong>Answer: No, the sample is not balanced in terms of gender. There are more males (91 total) than females (80 total).</strong></p>
<pre class="r"><code>tab.agesex &lt;- table(dat$irsex, dat$age2)
barplot(tab.agesex,
        main = &quot;Stacked barchart&quot;,
        xlab = &quot;Age category&quot;, ylab = &quot;Frequency&quot;,
        legend.text = rownames(tab.agesex),
        beside = FALSE) # Stacked bars (default)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p><strong>Answer: It’s difficult to be certain by just looking at this bar plot, but visually it appears as though this dataset contains males who are older and females who are younger. For example, the age categories of 14, 16, and 17 look to have more men than women while categories 8, 9, 10, 11, and 12 seem to have more females than males. This might also be because there are more males than females in this dataset. However, it is clear that the main age categories in this dataset are 13-17.</strong></p>
</div>
<div id="problem-4-substance-use" class="section level3">
<h3>Problem 4: Substance use</h3>
<p>For which of the three substances included in the dataset (marijuana, alcohol, and cigarettes) do individuals tend to use the substance earlier?</p>
<pre class="r"><code>summary(dat$mjage)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    7.00   14.00   16.00   15.99   17.50   35.00</code></pre>
<pre class="r"><code>summary(dat$cigage)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   10.00   15.00   17.00   17.65   19.00   50.00</code></pre>
<pre class="r"><code>summary(dat$iralcage)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    5.00   13.00   15.00   14.95   17.00   23.00</code></pre>
<pre class="r"><code>hist(dat$mjage, xlab = &#39;Age Category of First Marijuana Usage&#39;, main = &#39;Distribution of First Marijuana Usage Age&#39;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<pre class="r"><code>hist(dat$cigage, xlab = &#39;Age Category of First Cigarrete Usage&#39;, main = &#39;Distribution of First Cigarrete Usage Age&#39;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-17-2.png" width="672" /></p>
<pre class="r"><code>hist(dat$iralcage,  xlab = &#39;Age Category of First Alcohol Usage&#39;, main = &#39;Distribution of First Alcohol Usage Age&#39;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-17-3.png" width="672" /></p>
<p><strong>Answer: From the summary statistics and the histograms, it looks like people tend to use alcohol earlier than cigarettes or marijuana, mainly around the age category of 15 (35-49 years old).</strong></p>
</div>
<div id="question-5" class="section level3">
<h3>Question 5</h3>
<p>What does the distribution of sexual attraction look like? Is this what you expected?</p>
<p>What is the distribution of sexual attraction by gender?</p>
<pre class="r"><code>ggplot(dat, aes(x=sexatract)) + 
  geom_histogram() + 
  xlab(&#39;Sexual Attraction Category&#39;) +
  ggtitle(&#39;Distribution of Sexual Attraction \n Including Bad Data Entries&#39;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p><strong>Answer: This histogram includes the entries where people chose not to answer or the entries were blank, answered, or bad data for whatever reason. I expected to see these types of entries in this dataset.</strong></p>
<pre class="r"><code>ggplot(dat, aes(x=sexatract)) + 
  geom_histogram() + 
  xlim(0, 6) + 
  xlab(&#39;Sexual Attraction Category&#39;) +
  ggtitle(&#39;Distribution of Sexual Attraction \n Excluding Bad Data Entries&#39;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 3 rows containing non-finite values (stat_bin).</code></pre>
<pre><code>## Warning: Removed 2 rows containing missing values (geom_bar).</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p><strong>Answer: I generated this histogram to isolate the sexual attraction categories by excluding the bad data entries. This clearly shows the majority of people in this dataset are only attracted to the opposite sex which is what I expected since heterosexuality is the majority sexual orientation in society. It is followed by mostly opposite sex attraction and attraction to both sexes. I would say none of this is a surprise given my sense of sexual orientations within the US.</strong></p>
<pre class="r"><code>tab.attsex &lt;- table(dat$irsex, dat$sexatract)
barplot(tab.attsex,
        main = &quot;Sexual Attraction Across Genders&quot;,
        xlab = &#39;Sexual Attraction Category&#39;,
        ylab = &#39;Frequency&#39;,
        legend.text = rownames(tab.attsex),
        beside = FALSE)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p><strong>Answer: This plot shows that the males mostly comprised the opposite sex attraction category as well as the strictly same sex attraction and unsure sexual attraction categories. They were also the majority sex that skipped this question altogether. It’s interesting that females were the majority in the mostly opposite sex attraction and the both sex attraction categories.</strong></p>
<p>###Problem 6: English speaking</p>
<p>What does the distribution of English speaking look like in the sample? Is this what you might expect for a random sample of the US population?</p>
<p>Are there more English speaker females or males?</p>
<pre class="r"><code>hist(dat$speakengl,
     xlab = &#39;English Speaking Level&#39;,
     main = &#39;Distribution of English Speaking Levels&#39;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p><strong>Answer: The vast majority of people in this survey speak English very well followed by people who speak it well and those who don’t speak it at all. I would expect this from a random sample of the US population since the dominant language is English although we are a melting pot country with a variety of people groups.</strong></p>
<pre class="r"><code>tab.englsex &lt;- table(dat$irsex, dat$speakengl)
barplot(tab.englsex,
        main = &quot;English Speaking Level Across Genders&quot;,
        xlab = &#39;English Speaking Level&#39;,
        ylab = &#39;Frequency&#39;,
        legend.text = rownames(tab.englsex),
        beside = FALSE)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<pre class="r"><code>dat %&gt;% group_by(irsex, speakengl) %&gt;% count()</code></pre>
<pre><code>## # A tibble: 5 x 3
## # Groups:   irsex, speakengl [5]
##   irsex speakengl     n
##   &lt;int&gt;     &lt;int&gt; &lt;int&gt;
## 1     1         1    84
## 2     1         2     7
## 3     2         1    77
## 4     2         2     1
## 5     2         3     2</code></pre>
<p><strong>Answer: From these statistics and plot, it appears as though there are more male English speakers in this dataset, but one has to remember there are more males in the dataset overall. Additionally, it’s interesting that there are no males who rated themselves as not speaking English at all.</strong></p>
</div>
</div>
<div id="exam-1" class="section level1">
<h1>Exam 1</h1>
<p>Load the data into an R data frame.</p>
<pre class="r"><code>df &lt;- read.csv(&quot;fatal-police-shootings-data.csv&quot;)
library(ggplot2)
library(tidyverse)
library(tidyr)</code></pre>
<div id="problem-1-10-points" class="section level3">
<h3>Problem 1 (10 points)</h3>
<ol style="list-style-type: lower-alpha">
<li>Describe the dataset. This is the source: <a href="https://github.com/washingtonpost/data-police-shootings" class="uri">https://github.com/washingtonpost/data-police-shootings</a> . Write two sentences (max.) about this.</li>
</ol>
<p><strong>Answer: According to the codebook, this dataset consists of fatal shootings (observations) of civilians by police officers on duty since 2015. The dataset includes information (variables/columns) of the victims such as age, race, gender, threat level, etc.</strong></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>How many observations are there in the data frame?</li>
</ol>
<pre class="r"><code>nrow(df)</code></pre>
<pre><code>## [1] 6594</code></pre>
<p><strong>Answer: There are 6594 observations in this dataset.</strong></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Look at the names of the variables in the data frame. Describe what “body_camera”, “flee”, and “armed” represent, according to the codebook. Again, only write one sentence (max) per variable.</li>
</ol>
<pre class="r"><code>names(df)</code></pre>
<pre><code>##  [1] &quot;id&quot;                      &quot;name&quot;                   
##  [3] &quot;date&quot;                    &quot;manner_of_death&quot;        
##  [5] &quot;armed&quot;                   &quot;age&quot;                    
##  [7] &quot;gender&quot;                  &quot;race&quot;                   
##  [9] &quot;city&quot;                    &quot;state&quot;                  
## [11] &quot;signs_of_mental_illness&quot; &quot;threat_level&quot;           
## [13] &quot;flee&quot;                    &quot;body_camera&quot;            
## [15] &quot;longitude&quot;               &quot;latitude&quot;               
## [17] &quot;is_geocoding_exact&quot;</code></pre>
<p><strong>“Body_camera” indicates ‘true’ or ‘false’ if the officer wore a body camera and recorded a portion of the shooting. “Flee” is if the victim was fleeing by foot, car, or not fleeing, and “armed” tells if the victim’s arm is determined or unknown or if they were not armed.</strong></p>
<ol start="4" style="list-style-type: lower-alpha">
<li>What are three weapons that you are surprised to find in the “armed” variable? Make a table of the values in “armed” to see the options.</li>
</ol>
<pre class="r"><code>table(df$armed)</code></pre>
<pre><code>## 
##                                                   air conditioner 
##                              207                                1 
##                       air pistol                   Airsoft pistol 
##                                1                                3 
##                               ax                         barstool 
##                               24                                1 
##                     baseball bat          baseball bat and bottle 
##                               20                                1 
## baseball bat and fireplace poker           baseball bat and knife 
##                                1                                1 
##                            baton                           BB gun 
##                                6                               15 
##               BB gun and vehicle                     bean-bag gun 
##                                1                                1 
##                      beer bottle                       binoculars 
##                                3                                1 
##                     blunt object                           bottle 
##                                5                                1 
##                    bow and arrow                       box cutter 
##                                1                               13 
##                            brick              car, knife and mace 
##                                2                                1 
##                          carjack                            chain 
##                                1                                3 
##                        chain saw                         chainsaw 
##                                2                                1 
##                            chair              claimed to be armed 
##                                4                                1 
##               contractor&#39;s level                   cordless drill 
##                                1                                1 
##                         crossbow                          crowbar 
##                                9                                5 
##                        fireworks                         flagpole 
##                                1                                1 
##                       flashlight                      garden tool 
##                                2                                2 
##                      glass shard                          grenade 
##                                4                                1 
##                              gun                      gun and car 
##                             3798                               12 
##                    gun and knife                  gun and machete 
##                               22                                3 
##                    gun and sword                  gun and vehicle 
##                                1                               17 
##              guns and explosives                           hammer 
##                                3                               18 
##                       hand torch                          hatchet 
##                                1                               14 
##                  hatchet and gun                         ice pick 
##                                2                                1 
##                incendiary device                            knife 
##                                2                              955 
##                knife and vehicle                 lawn mower blade 
##                                1                                2 
##                          machete                  machete and gun 
##                               51                                1 
##                     meat cleaver                  metal hand tool 
##                                6                                2 
##                     metal object                       metal pipe 
##                                5                               16 
##                       metal pole                       metal rake 
##                                4                                1 
##                      metal stick                       microphone 
##                                3                                1 
##                       motorcycle                         nail gun 
##                                1                                1 
##                              oar                       pellet gun 
##                                1                                3 
##                              pen                     pepper spray 
##                                1                                2 
##                         pick-axe                    piece of wood 
##                                4                                7 
##                             pipe                        pitchfork 
##                                7                                2 
##                             pole                   pole and knife 
##                                3                                2 
##                  railroad spikes                             rock 
##                                1                                7 
##                    samurai sword                         scissors 
##                                4                                9 
##                      screwdriver                     sharp object 
##                               16                               14 
##                           shovel                            spear 
##                                7                                2 
##                          stapler              straight edge razor 
##                                1                                5 
##                            sword                            Taser 
##                               23                               34 
##                        tire iron                       toy weapon 
##                                4                              226 
##                          unarmed                     undetermined 
##                              421                              188 
##                   unknown weapon                          vehicle 
##                               82                              213 
##                  vehicle and gun              vehicle and machete 
##                                8                                1 
##                    walking stick                       wasp spray 
##                                1                                1 
##                           wrench 
##                                1</code></pre>
<p><strong>Answer: It’s kind of funny to see an air conditioner, binoculars, and microphone as weapons.</strong></p>
</div>
<div id="problem-2-10-points" class="section level3">
<h3>Problem 2 (10 points)</h3>
<ol style="list-style-type: lower-alpha">
<li>Describe the age distribution of the sample. Is this what you would expect to see?</li>
</ol>
<pre class="r"><code>hist(df$age, main = &#39;Distribution of Age&#39;, xlab = &#39;Age&#39;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p><strong>Answer: The age distribution is right skewed and unimodal with the peak being at around early to mid-30s. I would somewhat expect to see this because it’s probable that police don’t view older adults as threats typically, but I’m not exactly sure of this.</strong></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>To understand the center of the age distribution, would you use a mean or a median, and why? Find the one you picked.</li>
</ol>
<pre class="r"><code>summary(df$age)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##    6.00   27.00   35.00   37.12   45.00   91.00     308</code></pre>
<p><strong>I would use the median (35 years old) because the age distribution is right skewed, so if the mean were to be used, it wouldn’t give an accurate representation of centrality.</strong></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Describe the gender distribution of the sample. Do you find this surprising?</li>
</ol>
<pre class="r"><code>barplot(table(df$gender), main = &quot;Distribution of Gender&quot;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<pre class="r"><code>df %&gt;% group_by(gender) %&gt;% count()</code></pre>
<pre><code>## # A tibble: 3 x 2
## # Groups:   gender [3]
##   gender     n
##   &lt;chr&gt;  &lt;int&gt;
## 1 &quot;&quot;         3
## 2 &quot;F&quot;      293
## 3 &quot;M&quot;     6298</code></pre>
<p><strong>Answer: The gender distribution is very unbalanced with males making up the majority (6298/6594 = 95.5%) of the dataset. This surprises me because although I expected more males in the dataset, I didn’t think they would make up about 96% of the dataset. It looks like the gender column also contains some null values.</strong></p>
</div>
<div id="problem-3-10-points" class="section level3">
<h3>Problem 3 (10 points)</h3>
<ol style="list-style-type: lower-alpha">
<li>How many police officers had a body camera, according to news reports? What proportion is this of all the incidents in the data? Are you surprised that it is so high or low?</li>
</ol>
<pre class="r"><code>barplot(table(df$body_camera), main = &#39;Body Camera on Officer&#39;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<pre class="r"><code>df %&gt;% group_by(body_camera) %&gt;% count() %&gt;% mutate(proportion = n/nrow(df))</code></pre>
<pre><code>## # A tibble: 2 x 3
## # Groups:   body_camera [2]
##   body_camera     n proportion
##   &lt;chr&gt;       &lt;int&gt;      &lt;dbl&gt;
## 1 False        5684      0.862
## 2 True          910      0.138</code></pre>
<p><strong>Answer: Very few, only 13.8%, officers had a body camera. This doesn’t surprise me because when police are on duty, I would imagine they don’t wear cameras on their person.</strong></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>In how many of the incidents was the victim fleeing? What proportion is this of the total number of incidents in the data? Is this what you would expect?</li>
</ol>
<pre class="r"><code>barplot(table(df$flee), main = &#39;Distribution of Flee Methods&#39;, xlab = &#39;Flee Method&#39;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<pre class="r"><code>df %&gt;% group_by(flee) %&gt;% count() %&gt;% mutate(proportion = n/nrow(df))</code></pre>
<pre><code>## # A tibble: 5 x 3
## # Groups:   flee [5]
##   flee              n proportion
##   &lt;chr&gt;         &lt;int&gt;      &lt;dbl&gt;
## 1 &quot;&quot;              491     0.0745
## 2 &quot;Car&quot;          1058     0.160 
## 3 &quot;Foot&quot;          845     0.128 
## 4 &quot;Not fleeing&quot;  3952     0.599 
## 5 &quot;Other&quot;         248     0.0376</code></pre>
<p><strong>Answer: Victims fleeing by car or foot make up 28.9% of the dataset. This number excludes null or ‘other’ values. This is expected because I imagine most people don’t flee from police.</strong></p>
</div>
<div id="problem-4-10-points" class="section level3">
<h3>Problem 4 (10 points)</h3>
<ol style="list-style-type: lower-alpha">
<li>Describe the relationship between the variables “body camera” and “flee” using a stacked barplot. What can you conclude from this relationship?</li>
</ol>
<p><em>Hint 1: The categories along the x-axis are the options for “flee”, each bar contains information about whether the police officer had a body camera (vertically), and the height along the y-axis shows the frequency of that category).</em></p>
<p><em>Hint 2: Also, if you are unsure about the syntax for barplot, run ?barplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.</em></p>
<pre class="r"><code>tab.camflee &lt;- table(df$body_camera, df$flee)
barplot(tab.camflee,
        main = &quot;Relationship Between Body Cams and Fleeing Victims&quot;,
        xlab = &#39;Type of Fleeing&#39;,
        ylab = &#39;Frequency&#39;,
        legend.text = rownames(tab.camflee),
        beside = FALSE)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<pre class="r"><code>df %&gt;% group_by(body_camera, flee) %&gt;% count()</code></pre>
<pre><code>## # A tibble: 10 x 3
## # Groups:   body_camera, flee [10]
##    body_camera flee              n
##    &lt;chr&gt;       &lt;chr&gt;         &lt;int&gt;
##  1 False       &quot;&quot;              429
##  2 False       &quot;Car&quot;           943
##  3 False       &quot;Foot&quot;          699
##  4 False       &quot;Not fleeing&quot;  3408
##  5 False       &quot;Other&quot;         205
##  6 True        &quot;&quot;               62
##  7 True        &quot;Car&quot;           115
##  8 True        &quot;Foot&quot;          146
##  9 True        &quot;Not fleeing&quot;   544
## 10 True        &quot;Other&quot;          43</code></pre>
<p><strong>Answer: It’s important to note that these variables contain some null and ‘other’ values, and the ‘true’ and ‘false’ in the legend indicates whether or not the officer had a body camera. It looks like a body camera was used mostly on victims who didn’t flee followed by the victims that fled on foot. This makes sense since the majority of the victims in this dataset didn’t flee.</strong></p>
</div>
<div id="extra-credit-10-points" class="section level3">
<h3>Extra credit (10 points)</h3>
<ol style="list-style-type: lower-alpha">
<li>What does this code tell us?</li>
</ol>
<pre class="r"><code>mydates &lt;- as.Date(df$date)
head(mydates)
(mydates[length(mydates)] - mydates[1])</code></pre>
<p><strong>Answer: This tells us the time difference in days between the oldest and the most recent fatal shooting in this dataset.</strong></p>
<ol start="2" style="list-style-type: lower-alpha">
<li><p>On Friday, a new report was published that was described as follows by The Guardian: “More than half of US police killings are mislabelled or not reported, study finds.” Without reading this article now (due to limited time), why do you think police killings might be mislabelled or underreported? <strong>Answer: It might be because the ones that are recorded have missing values which causes them to be excluded from the analysis.</strong></p></li>
<li><p>Regarding missing values in problem 4, do you see any? If so, do you think that’s all that’s missing from the data? <strong>Answer: Yes, there were some, and I think there are more missing values in the dataset.</strong></p></li>
</ol>
</div>
</div>
<div id="exam-2" class="section level1">
<h1>Exam 2</h1>
<p>Data description: This dataset provides (simulated) data about 200 police departments in one year. It contains information about the funding received by the department as well as incidents of police brutality. Suppose this dataset (sim.data.csv) was collected by researchers to answer this question: <strong>“Does having more funding in a police department lead to fewer incidents of police brutality?”</strong> d. Codebook: - funds: How much funding the police department received in that year in millions of dollars. - po.brut: How many incidents of police brutality were reported by the department that year. - po.dept.code: Police department code</p>
<div id="problem-1-eda-10-points" class="section level3">
<h3>Problem 1: EDA (10 points)</h3>
<p>Describe the dataset and variables. Perform exploratory data analysis for the two variables of interest: funds and po.brut.</p>
<pre class="r"><code>#load libraries
library(knitr)
library(ggplot2)
library(tidyverse)</code></pre>
<pre class="r"><code>dat &lt;- read.csv(file = &#39;sim.data.csv&#39;)
dim(dat)</code></pre>
<pre><code>## [1] 200   3</code></pre>
<pre class="r"><code>sum(is.na(dat$po.dept.code))</code></pre>
<pre><code>## [1] 0</code></pre>
<pre class="r"><code>sum(is.na(dat$funds))</code></pre>
<pre><code>## [1] 0</code></pre>
<pre class="r"><code>sum(is.na(dat$po.brut))</code></pre>
<pre><code>## [1] 0</code></pre>
<p><strong>Answer: This dataset set contains 200 observations (rows), and each of them represents a police department. The columns (3 total) are attributes of each police department, and they include funds (funding received in millions of dollars for that year), po.brut (number of reported incidents of police brutality) for that year, and po.dept.code (id number for the department, most likely to protect privacy and confidentiality). There are no missing (n/a) values in this dataset.</strong></p>
<pre class="r"><code>summary(dat)</code></pre>
<pre><code>##   po.dept.code        funds          po.brut     
##  Min.   :  1.00   Min.   :21.40   Min.   : 0.00  
##  1st Qu.: 50.75   1st Qu.:51.67   1st Qu.:14.00  
##  Median :100.50   Median :59.75   Median :19.00  
##  Mean   :100.50   Mean   :61.04   Mean   :18.14  
##  3rd Qu.:150.25   3rd Qu.:72.17   3rd Qu.:22.00  
##  Max.   :200.00   Max.   :99.70   Max.   :29.00</code></pre>
<p><strong>Answer: It’s interesting that in this dataset, police departments received at least $21.4 million for that year, and average is $61.04 million. It’s also interesting to that that at least one department reported 0 incidences of police brutality, and the highest number of incidences reported for that year was 22. It’s concerning that the average number of incidences is 18.14.</strong></p>
<pre class="r"><code>dat %&gt;% ggplot(aes(x=funds)) + geom_histogram() +
                               xlab(&quot;Funds (millions of dollars)&quot;) +
                               ggtitle(&quot;Distribution of Funds&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<pre class="r"><code>dat %&gt;% ggplot(aes(x=po.brut)) + geom_histogram() + 
                                 xlab(&quot;Number of Reported Incidences of Police Brutality&quot;) +
                                 ggtitle(&quot;Distribution of Police Brutality Incidences&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-37-2.png" width="672" /> <strong>Answer: These histograms show possible outliers in both funding and number of police brutality incidences. The distribution of funds looks to be possibly bimodal, and the distribution of police brutality looks to be slightly left skewed. These are subjective observations of the graph, but if given a larger sample, these graphs will be more representative of the population distribution of these variables.</strong></p>
<pre class="r"><code>dat %&gt;% ggplot(aes(x=funds, y=po.brut)) + geom_point() + ggtitle(&quot;Scatterplot of Police Brutality vs. Funds&quot;)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<pre class="r"><code>cor(dat$funds, dat$po.brut)</code></pre>
<pre><code>## [1] -0.9854706</code></pre>
<p><strong>Answer: There looks to be a strong negative relationship between funds and po.brut, but it’s concerning that the relationship doesn’t look linear.</strong></p>
</div>
<div id="problem-2-linear-regression-30-points" class="section level3">
<h3>Problem 2: Linear regression (30 points)</h3>
<ol style="list-style-type: lower-alpha">
<li>Perform a simple linear regression to answer the question of interest. To do this, name your linear model “reg.output” and write the summary of the regression by using “summary(reg.output)”.</li>
</ol>
<pre class="r"><code># Remember to remove eval=FALSE!!
reg.output &lt;- lm(po.brut ~ funds, data = dat)
summary(reg.output)</code></pre>
<pre><code>## 
## Call:
## lm(formula = po.brut ~ funds, data = dat)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.9433 -0.2233  0.2544  0.5952  1.1803 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 40.543069   0.282503  143.51   &lt;2e-16 ***
## funds       -0.367099   0.004496  -81.64   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.9464 on 198 degrees of freedom
## Multiple R-squared:  0.9712, Adjusted R-squared:  0.971 
## F-statistic:  6666 on 1 and 198 DF,  p-value: &lt; 2.2e-16</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>Report the estimated coefficient, standard error, and p-value of the slope. Is the relationship between funds and incidents statistically significant? Explain.</li>
</ol>
<p><strong>Answer: The estimated coefficient is -0.367099, standard error is 0.004496, and the p-value is &lt;2e-16, which is almost 0. Since the p-value is less than alpha (0.05), we are able to reject the null hypothesis that there is no association between police brutality and funds which means this relationship is statistically significant. Additionally the R-squared of the model is very high which indicates this model fits the data well.</strong></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Draw a scatterplot of po.brut (y-axis) and funds (x-axis). Right below your plot command, use abline to draw the fitted regression line, like this:</li>
</ol>
<pre class="r"><code># Remember to remove eval=FALSE!!
plot(dat$funds, dat$po.brut, xlab = &quot;Funds (millions of dollars)&quot;, ylab = &quot;Number of Reported Incidences of Police Brutality&quot;, main = &quot;Scatterplot of Police Brutality vs. Funds&quot;)
abline(reg.output, col = &quot;red&quot;, lwd=2)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-40-1.png" width="384" /> Does the line look like a good fit? Why or why not?</p>
<p><strong>Answer: No, it does not show a good fit because the data looks curved, and since this is a linear model, it does not fit the data properly. The R-squared is high because the linear fit does model quite a bit of the data, but it fails to capture the overall trend. If there were more observations, this might be the case. Perhaps transformation would be appropriate to apply to capture the fit of the data, but this runs the risk of overfitting. Given the size of the dataset, it would be most beneficial to split the data into test and training data to cross validate.</strong></p>
<ol start="4" style="list-style-type: lower-alpha">
<li>Are the four assumptions of linear regression satisfied? To answer this, draw the relevant plots. (Write a maximum of one sentence per assumption.) If not, what might you try to do to improve this (if you had more time)?</li>
</ol>
<pre class="r"><code>#residuals vs fitted plots
plot(reg.output, which = 1)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<pre class="r"><code>#scale location plot
plot(reg.output, which = 3)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-41-2.png" width="672" /></p>
<pre class="r"><code>#residuals vs x plot
plot(dat$funds, reg.output$residuals, main = &quot;Residuals vs. X&quot;, xlab = &quot;X (Funding in Millions of Dollars)&quot;, ylab = &quot;Residuals&quot;) </code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-41-3.png" width="672" /></p>
<p><strong>Answer: The linearity assumption is not met because the scatterplot of po.brut vs. funds shows a curved relationship over a linear one, and the residuals vs. x and residuals vs. fitted plots show a distinguishable curved pattern. The independence assumption is not met because there is a pattern shown in the residuals vs. x plot. The equal variance assumption is not satisfied since there are significant trends in the residuals vs. fitted and scale location plots. </strong></p>
<pre class="r"><code>plot(reg.output, which = 5)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<pre class="r"><code>plot(reg.output, which = 2)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-42-2.png" width="672" /> <strong>Answer: The normality assumption is violated because the QQ plot does not show a straight line like we want. Since none of the assumptions are met, I would apply a transformation to the model to see if it will help satisfy the assumptions, and to choose which transformation, I would use the Box-Cox method.</strong></p>
<ol start="5" style="list-style-type: lower-alpha">
<li>Answer the question of interest based on your analysis.</li>
</ol>
<p><strong>Answer: Since none of the assumptions are met, the p-value obtained by the model are optimistic which means the model can’t be used for inference. If the assumptions were met, there would be an associated decrease of reported incidences of police brutality by 0.367099 when funding increases by $1 million. It is possible that it works well for prediction, but as mentioned above, the best way to make sure is to partition the data into test and train. However, with a larger sample size or with transformations, it’s possible the model can be used for statistical inference.</strong></p>
</div>
<div id="problem-3-data-ethics-10-points" class="section level3">
<h3>Problem 3: Data ethics (10 points)</h3>
<p>Describe the dataset. Considering our lecture on data ethics, what concerns do you have about the dataset? Once you perform your analysis to answer the question of interest using this dataset, what concerns might you have about the results?</p>
<p><strong>Answer: This dataset contains the funding in millions of dollars for the given year as well as the number of reported incidences of police brutality report by each police department. As discussed in class, the databases of police departments are prone to bias due to the biases of officers. This shows up in predictive policing where the predicted area of crime is overrepresented. Since the incidences of police brutality are reported by each department, this data may be biased and therefore produce biased results (garbage in, garbage out). This data might not completely capture the true amount of police brutality occurring since it may be underreported. It would be interesting if a separate organization is able to cross check this data with a different database of police brutality that is not recorded by police. This would hold police departments accountable in recording data and it would provide a level of fairness.</strong></p>
</div>
</div>
<div id="assignment-4" class="section level1">
<h1>Assignment 4</h1>
<pre class="r"><code>#install and load tidyverse library
#install.packages(&quot;tidyverse&quot;)
library(tidyverse)</code></pre>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy)) #plot a scatterplot of hwy vs displ</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy, color = class)) #plot a scatterplot of hwy vs displ by class categories visualized as different colors</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy, size = class)) #plot a scatterplot of hwy vs displ by class categories visualized as different size points</code></pre>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy, alpha = class)) #plot a scatterplot of hwy vs displ with class categories visualized as different shades of transparency</code></pre>
<pre><code>## Warning: Using alpha for a discrete variable is not advised.</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy, shape = class)) #plot a scatterplot of hwy vs displ with class categories visualized as different shapes</code></pre>
<pre><code>## Warning: The shape palette can deal with a maximum of 6 discrete values because
## more than 6 becomes difficult to discriminate; you have 7. Consider
## specifying shapes manually if you must have them.</code></pre>
<pre><code>## Warning: Removed 62 rows containing missing values (geom_point).</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-48-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy), color = &quot;blue&quot;) #plot a scatterplot of hwy vs displ with blue pointsx</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-49-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy, color = &quot;blue&quot;)) #plot a scatterplot of hwy vs displ with legend=blue</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-50-1.png" width="672" /></p>
<pre class="r"><code>#do not put &quot;+&quot; at the beginning of a line, always at the end
#ggplot(data = mpg) #call ggplot function and load data as argument
#+ geom_point(mapping = aes(x = displ, y = hwy))</code></pre>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy)) + #plot a scatterplot of hwy vs displ
  facet_wrap(~ class, nrow = 2) #create multiple scatterplots of hwy vs displ across different class categories</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-52-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy)) + #plot a scatterplot of hwy vs displ
  facet_grid(drv ~ cyl) #create multiple scatterplots of hwy vs displ across different categories (drv and cyl)</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-53-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_smooth(mapping = aes(x = displ, y = hwy)) #plot a line of best fit of hwy vs displ</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-54-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_smooth(mapping = aes(x = displ, y = hwy, linetype = drv)) #plot a line of best fit of hwy vs displ based on drive train types</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-55-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_smooth(mapping = aes(x = displ, y = hwy, linetype = drv, color = drv), show.legend = FALSE) #plot a line of best fit of hwy vs displ based on drive train types in different colors and excluding the legend</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-56-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy)) + #plot a scatterplot of hwy vs displ
  geom_smooth(mapping = aes(x = displ, y = hwy)) #adding a line of best fit on top of scatterplot</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
<pre class="r"><code>#another way of writing the previous function
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + #creates aesthetics of the plot
  geom_point() + #scatterplot of hwy vs displ
  geom_smooth() #line of fit over scatterplot</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-58-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + #creates aesthetics of the plot
  geom_point(mapping = aes(color = class)) +#scatterplot of hwy vs displ with color dividing classes
  geom_smooth() #line of fit over scatterplot</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-59-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + #creates aesthetics of the plot
  geom_point(mapping = aes(color = class)) +#scatterplot of hwy vs displ with color dividing classes
  geom_smooth(data = filter(mpg, class == &quot;subcompact&quot;), se = FALSE) #line of fit over scatterplot for only subcompact cars</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-60-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds) + #call ggplot function and load data as argument
  geom_bar(mapping = aes(x = cut)) #bar chart of diamond cuts</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-61-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds) + #call ggplot function and load data as argument
  stat_count(mapping = aes(x = cut)) #bar chart of diamond cuts using stat_count</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-62-1.png" width="672" /></p>
<pre class="r"><code>demo &lt;- tribble( #create data
  ~cut,         ~freq,
  &quot;Fair&quot;,       1610,
  &quot;Good&quot;,       4906,
  &quot;Very Good&quot;,  12082,
  &quot;Premium&quot;,    13791,
  &quot;Ideal&quot;,      21551
) 

ggplot(data = demo) + #call ggplot function and load data as argument
  geom_bar(mapping = aes(x = cut, y = freq), stat = &quot;identity&quot;) #bar chart of diamond cuts and frequency</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds) + #call ggplot function and load data as argument
  geom_bar(mapping = aes(x = cut, y = stat(prop), group = 1)) #bar chart of diamond cuts by proportion</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-64-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds) + #call ggplot function and load data as argument
  stat_summary( #plot summary stats of each diamond cut category
    mapping = aes(x = cut, y = depth), #aesthetics of the plot
    fun.min = min, #min of each category
    fun.max = max,#max of each category
    fun = median#median of each category
  )</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-65-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds) + #call ggplot function and load data as argument
  geom_bar(mapping = aes(x = cut, colour = cut)) #bar chart of diamond cuts with bars outlined in color</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds) + #call ggplot function and load data as argument
  geom_bar(mapping = aes(x = cut, fill = cut)) #bar chart of diamond cuts with bars filled with color</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-66-2.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds) + #call ggplot function and load data as argument
  geom_bar(mapping = aes(x = cut, fill = clarity)) #bar chart of diamond cuts with bar color filling for each clarity category</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds, mapping = aes(x = cut, fill = clarity)) + #call ggplot function and load data as argument with aesthetics
  geom_bar(alpha = 1/5, position = &quot;identity&quot;) #barchart of cuts and divided into semitransparent clarity categories</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds, mapping = aes(x = cut, colour = clarity)) + #call ggplot function and load data as argument with aesthetics
  geom_bar(fill = NA, position = &quot;identity&quot;) #barchart of cuts and divided into transparent clarity categories</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-68-2.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds) + #call ggplot function and load data as argument
  geom_bar(mapping = aes(x = cut, fill = clarity), position = &quot;fill&quot;) #bar chart of diamond cuts with all one height to compare proportions of clarity across cuts</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = diamonds) + #call ggplot function and load data as argument
  geom_bar(mapping = aes(x = cut, fill = clarity), position = &quot;dodge&quot;) #bar chart of diamond cuts with distribution of clarity for each cut</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) +  #call ggplot function and load data as argument
  geom_point(mapping = aes(x = displ, y = hwy), position = &quot;jitter&quot;) #scatterplot of hwy vs displ with points jittered randomly</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-71-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = class, y = hwy)) + #call ggplot function and load data as argument and sets aesthetics
  geom_boxplot() #boxplot of class and hwy</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-72-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = class, y = hwy)) + #call ggplot function and load data as argument and sets aesthetics
  geom_boxplot() + #boxplot of class and hwy
  coord_flip() #flips x and y of plot</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-72-2.png" width="672" /></p>
<pre class="r"><code>nz &lt;- map_data(&quot;nz&quot;) #create dataframe

ggplot(nz, aes(long, lat, group = group)) + #call ggplot with data and set aesthetics
  geom_polygon(fill = &quot;white&quot;, colour = &quot;black&quot;) #create map with white fill and black outline</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
<pre class="r"><code>ggplot(nz, aes(long, lat, group = group)) + #call ggplot with data and set aesthetics
  geom_polygon(fill = &quot;white&quot;, colour = &quot;black&quot;) + #create map with white fill and black outline
  coord_quickmap() #sets aspect ratio</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-73-2.png" width="672" /></p>
<pre class="r"><code>bar &lt;- ggplot(data = diamonds) + #creates bar, calls ggplot and loads data
  geom_bar( #bar chart
    mapping = aes(x = cut, fill = cut), #barchart of cut
    show.legend = FALSE, #don&#39;t show legend
    width = 1
  ) + 
  theme(aspect.ratio = 1) + #color graph with theme
  labs(x = NULL, y = NULL) #null x and y labels

bar + coord_flip() #flip x and y</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-74-1.png" width="672" /></p>
<pre class="r"><code>bar + coord_polar() #use polar coordinates</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-74-2.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #call ggplot, load data, and create aesthetics
  geom_point(aes(color = class)) + #scatterplot of hwy vs displ with color = class
  geom_smooth(se = FALSE) + #line of fit without standard error
  labs(title = &quot;Fuel efficiency generally decreases with engine size&quot;) #add title</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #call ggplot, load data, and create aesthetics
  geom_point(aes(color = class)) + #scatterplot of hwy vs displ with color = class
  geom_smooth(se = FALSE) + #line of fit without standard error
  labs(
    title = &quot;Fuel efficiency generally decreases with engine size&quot;,
    subtitle = &quot;Two seaters (sports cars) are an exception because of their light weight&quot;,
    caption = &quot;Data from fueleconomy.gov&quot;
  ) #add title, subtitle, and caption</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-76-1.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #call ggplot, load data, and create aesthetics
  geom_point(aes(color = class)) + #scatterplot of hwy vs displ with color = class
  geom_smooth(se = FALSE) + #line of fit without standard error
  labs(
    x = &quot;Engine displacement (L)&quot;,
    y = &quot;Highway fuel economy (mpg)&quot;,
    colour = &quot;Car type&quot;
  ) #add x, y, and legend labels</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<pre class="r"><code>df &lt;- tibble(
  x = runif(10),
  y = runif(10)
) #create data
ggplot(df, aes(x, y)) + #ggplot, load data
  geom_point() + #scatterplot of y vs x
  labs(
    x = quote(sum(x[i] ^ 2, i == 1, n)),
    y = quote(alpha + beta + frac(delta, theta))
  ) #create labels for mathmetical expressions for x and y</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-78-1.png" width="672" /></p>
<pre class="r"><code>best_in_class &lt;- mpg %&gt;% #create best_in_class data
  group_by(class) %&gt;%
  filter(row_number(desc(hwy)) == 1) #filter

ggplot(mpg, aes(displ, hwy)) + #ggplot, load data, and set aesthetics
  geom_point(aes(colour = class)) + #scatterplot of hwy vs displ with color = class
  geom_text(aes(label = model), data = best_in_class) #create labels for points in best_in_class</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-79-1.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #ggplot, load data, and set aesthetics
  geom_point(aes(colour = class)) + #scatterplot of hwy vs displ with color = class
  geom_label(aes(label = model), data = best_in_class, nudge_y = 2, alpha = 0.5) #create labels for points in best_in_class and adjust so they&#39;re not overlapping</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-80-1.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #ggplot, load data, and set aesthetics
  geom_point(aes(colour = class)) + #scatterplot of hwy vs displ with color = class
  geom_point(size = 3, shape = 1, data = best_in_class) + #adjust size and data
  ggrepel::geom_label_repel(aes(label = model), data = best_in_class) #create labels for points in best_in_class and adjust so they&#39;re not overlapping</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-81-1.png" width="672" /></p>
<pre class="r"><code>class_avg &lt;- mpg %&gt;% #create class_avg dataframe
  group_by(class) %&gt;%
  summarise(
    displ = median(displ),
    hwy = median(hwy)
  )
#&gt; `summarise()` ungrouping output (override with `.groups` argument)

ggplot(mpg, aes(displ, hwy, colour = class)) + #ggplot, data load, and set aesthetics
  ggrepel::geom_label_repel(aes(label = class), #create labels
    data = class_avg,
    size = 6,
    label.size = 0,
    segment.color = NA
  ) +
  geom_point() + #scatterplot of hwy vs displ
  theme(legend.position = &quot;none&quot;) #color with theme</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-82-1.png" width="672" /></p>
<pre class="r"><code>label &lt;- mpg %&gt;% #create label dataframe
  summarise(
    displ = max(displ),
    hwy = max(hwy),
    label = &quot;Increasing engine size is \nrelated to decreasing fuel economy.&quot;
  )

ggplot(mpg, aes(displ, hwy)) + #ggplot, data load, and set aesthetics
  geom_point() + #scatterplot of hwy vs displ
  geom_text(aes(label = label), data = label, vjust = &quot;top&quot;, hjust = &quot;right&quot;) #create text label</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-83-1.png" width="672" /></p>
<pre class="r"><code>label &lt;- tibble( #create label dataframe
  displ = Inf,
  hwy = Inf,
  label = &quot;Increasing engine size is \nrelated to decreasing fuel economy.&quot;
)

ggplot(mpg, aes(displ, hwy)) + #ggplot, data load, and set aesthetics
  geom_point() + #scatterplot of hwy vs displ
  geom_text(aes(label = label), data = label, vjust = &quot;top&quot;, hjust = &quot;right&quot;) #create text labels on the border</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-84-1.png" width="672" /></p>
<pre class="r"><code>#add line breaks given the number of characters chosen per line
&quot;Increasing engine size is related to decreasing fuel economy.&quot; %&gt;%
  stringr::str_wrap(width = 40) %&gt;%
  writeLines()</code></pre>
<pre><code>## Increasing engine size is related to
## decreasing fuel economy.</code></pre>
<pre class="r"><code>#&gt; Increasing engine size is related to
#&gt; decreasing fuel economy.</code></pre>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #ggplot, data load, and set aesthetics
  geom_point(aes(colour = class)) #scatterplot of hwy vs displ with class color differentiation</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-86-1.png" width="672" /></p>
<pre class="r"><code>#default scales of the above plot (behind the scenes)
ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = class)) +
  scale_x_continuous() +
  scale_y_continuous() +
  scale_colour_discrete()</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-86-2.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #ggplot, data load, and set aesthetics
  geom_point() + #scatterplot of hwy vs displ
  scale_y_continuous(breaks = seq(15, 40, by = 5)) #controls position of ticks in plot</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-87-1.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #ggplot, data load, and set aesthetics
  geom_point() + #scatterplot of hwy vs displ
  scale_x_continuous(labels = NULL) + #no labels for ticks on x axis
  scale_y_continuous(labels = NULL) #no labels for ticks on y axis</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-88-1.png" width="672" /></p>
<pre class="r"><code>presidential %&gt;%
  mutate(id = 33 + row_number()) %&gt;%
  ggplot(aes(start, id)) +
    geom_point() + #scatterplot of id vs start
    geom_segment(aes(xend = end, yend = id)) + #scale of plot
    scale_x_date(NULL, breaks = presidential$start, date_labels = &quot;&#39;%y&quot;) #controls ticks and labels of x axis</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-89-1.png" width="672" /></p>
<pre class="r"><code>base &lt;- ggplot(mpg, aes(displ, hwy)) +  #ggplot, data load, and set aesthetics
  geom_point(aes(colour = class)) #scatterplot of hwy vs displ with class differentiation

base + theme(legend.position = &quot;left&quot;) #legend on left</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-90-1.png" width="672" /></p>
<pre class="r"><code>base + theme(legend.position = &quot;top&quot;) #legend on top</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-90-2.png" width="672" /></p>
<pre class="r"><code>base + theme(legend.position = &quot;bottom&quot;) #legend on bottom</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-90-3.png" width="672" /></p>
<pre class="r"><code>base + theme(legend.position = &quot;right&quot;) # the default</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-90-4.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #ggplot, data load, and set aesthetics
  geom_point(aes(colour = class)) + #scatterplot of hwy vs displ with class differentiation
  geom_smooth(se = FALSE) + #line of fit without standard error
  theme(legend.position = &quot;bottom&quot;) + #position of legend at bottom
  guides(colour = guide_legend(nrow = 1, override.aes = list(size = 4))) #layout of legend in 1 row</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-91-1.png" width="672" /></p>
<pre class="r"><code>#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<pre class="r"><code>ggplot(diamonds, aes(carat, price)) + #ggplot, data load, and set aesthetics
  geom_bin2d() #heatmap of 2d bins</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-92-1.png" width="672" /></p>
<pre class="r"><code>ggplot(diamonds, aes(log10(carat), log10(price))) + #ggplot, data load, and log of aesthetics
  geom_bin2d() #heatmap of 2d bins</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-92-2.png" width="672" /></p>
<pre class="r"><code>ggplot(diamonds, aes(carat, price)) + #ggplot, data load, set aesthetics
  geom_bin2d() + #heatmap of 2d bins
  scale_x_log10() + #log10 of x scale
  scale_y_log10() #log10 of y scale</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-93-1.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #ggplot, data load, set aesthetics
  geom_point(aes(color = drv)) #scatterplot of hwy vs displ with drv color category differentiation</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-94-1.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #ggplot, data load, set aesthetics
  geom_point(aes(color = drv)) + #scatterplot of hwy vs displ with drv color category differentiation
  scale_colour_brewer(palette = &quot;Set1&quot;) #scale by color</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-94-2.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + #ggplot, data load, set aesthetics
  geom_point(aes(color = drv, shape = drv)) + #scatterplot of hwy vs displ with drv color category and shape differentiation
  scale_colour_brewer(palette = &quot;Set1&quot;) #scale by color</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-95-1.png" width="672" /></p>
<pre class="r"><code>presidential %&gt;%
  mutate(id = 33 + row_number()) %&gt;% #select columns and rows
  ggplot(aes(start, id, colour = party)) + #ggplot, data load, set aesthetics
    geom_point() + #scatterplot
    geom_segment(aes(xend = end, yend = id)) + #segment plot
    scale_colour_manual(values = c(Republican = &quot;red&quot;, Democratic = &quot;blue&quot;)) #color scale for certain points</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-96-1.png" width="672" /></p>
<pre class="r"><code>df &lt;- tibble( #create data
  x = rnorm(10000),
  y = rnorm(10000)
)
ggplot(df, aes(x, y)) + #ggplot, data load, set aesthetics
  geom_hex() + #create hexagonal shape
  coord_fixed() #fixed aspect ratio</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-97-1.png" width="672" /></p>
<pre class="r"><code>ggplot(df, aes(x, y)) + #ggplot, data load, set aesthetics
  geom_hex() + #create hexagonal shape
  #viridis::scale_fill_viridis() + #contrasting colors in shape
  coord_fixed() #fixed aspect ratio</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-97-2.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, mapping = aes(displ, hwy)) + #ggplot, data load, set aesthetics
  geom_point(aes(color = class)) + #scatterplot of hwy vs displ with class color category differentiation
  geom_smooth() + #line of fit on top of scatterplot
  coord_cartesian(xlim = c(5, 7), ylim = c(10, 30)) #adjust x and y limits</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-98-1.png" width="672" /></p>
<pre class="r"><code>mpg %&gt;%
  filter(displ &gt;= 5, displ &lt;= 7, hwy &gt;= 10, hwy &lt;= 30) %&gt;% #filter rows
  ggplot(aes(displ, hwy)) + #ggplot, data load, set aesthetics
  geom_point(aes(color = class)) + #scatterplot of hwy vs displ with class color category differentiation
  geom_smooth() #line of fit on top of scatterplot</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-98-2.png" width="672" /></p>
<pre class="r"><code>suv &lt;- mpg %&gt;% filter(class == &quot;suv&quot;) #create suv dataframe
compact &lt;- mpg %&gt;% filter(class == &quot;compact&quot;) #create compact dataframe

ggplot(suv, aes(displ, hwy, colour = drv)) + #ggplot, data load, set aesthetics
  geom_point() #scatterplot of hwy vs displ with drv color category differentiation</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-99-1.png" width="672" /></p>
<pre class="r"><code>ggplot(compact, aes(displ, hwy, colour = drv)) + #ggplot, data load, set aesthetics
  geom_point() #scatterplot of hwy vs displ with drv color category differentiation</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-99-2.png" width="672" /></p>
<pre class="r"><code>x_scale &lt;- scale_x_continuous(limits = range(mpg$displ)) #create x_scale dataframe
y_scale &lt;- scale_y_continuous(limits = range(mpg$hwy)) #create y_scale dataframe
col_scale &lt;- scale_colour_discrete(limits = unique(mpg$drv)) #create col_scale dataframe

ggplot(suv, aes(displ, hwy, colour = drv)) + #ggplot, data load, set aesthetics
  geom_point() + #scatterplot of hwy vs displ with drv color category differentiation
  x_scale + #adjust x scale
  y_scale + #adjust y scale
  col_scale #adjust color scale</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-100-1.png" width="672" /></p>
<pre class="r"><code>ggplot(compact, aes(displ, hwy, colour = drv)) + #ggplot, data load, set aesthetics
  geom_point() + #scatterplot of hwy vs displ with drv color category differentiation
  x_scale + #adjust x scale
  y_scale + #adjust y scale
  col_scale #adjust color scale</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-100-2.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) +  #ggplot, data load, set aesthetics
  geom_point(aes(color = class)) + #scatterplot of hwy vs displ with class color category differentiation
  geom_smooth(se = FALSE) + #line of best fit without standard error
  theme_bw() #adjust theme</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-101-1.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(displ, hwy)) + geom_point() #create scatterplot of hwy vs displ</code></pre>
<p><img src="Assignments_files/figure-html/unnamed-chunk-102-1.png" width="672" /></p>
<pre class="r"><code>ggsave(&quot;my-plot.pdf&quot;) #save plot</code></pre>
<pre><code>## Saving 7 x 5 in image</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
